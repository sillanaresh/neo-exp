<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">.lst-kix_uztcojq4jjfk-2>li{counter-increment:lst-ctn-kix_uztcojq4jjfk-2}ol.lst-kix_9pgs6vgq5fvx-7.start{counter-reset:lst-ctn-kix_9pgs6vgq5fvx-7 0}.lst-kix_rtcqmwnujh78-8>li:before{content:"" counter(lst-ctn-kix_rtcqmwnujh78-8,lower-roman) ". "}ul.lst-kix_asgneavnvrb9-0{list-style-type:none}ul.lst-kix_j8sg3c2vefq6-7{list-style-type:none}ul.lst-kix_j8sg3c2vefq6-8{list-style-type:none}ul.lst-kix_j8sg3c2vefq6-5{list-style-type:none}ol.lst-kix_uztcojq4jjfk-2.start{counter-reset:lst-ctn-kix_uztcojq4jjfk-2 0}ul.lst-kix_j8sg3c2vefq6-6{list-style-type:none}.lst-kix_rtcqmwnujh78-3>li:before{content:"" counter(lst-ctn-kix_rtcqmwnujh78-3,decimal) ". "}.lst-kix_rtcqmwnujh78-4>li:before{content:"" counter(lst-ctn-kix_rtcqmwnujh78-4,lower-latin) ". "}.lst-kix_9pgs6vgq5fvx-4>li{counter-increment:lst-ctn-kix_9pgs6vgq5fvx-4}ol.lst-kix_52apgr53jiai-7.start{counter-reset:lst-ctn-kix_52apgr53jiai-7 0}.lst-kix_rtcqmwnujh78-7>li:before{content:"" counter(lst-ctn-kix_rtcqmwnujh78-7,lower-latin) ". "}.lst-kix_52apgr53jiai-6>li{counter-increment:lst-ctn-kix_52apgr53jiai-6}.lst-kix_19qvfcqr2aqc-3>li:before{content:"\0025cf   "}.lst-kix_rtcqmwnujh78-5>li:before{content:"" counter(lst-ctn-kix_rtcqmwnujh78-5,lower-roman) ". "}.lst-kix_rtcqmwnujh78-6>li:before{content:"" counter(lst-ctn-kix_rtcqmwnujh78-6,decimal) ". "}ol.lst-kix_rtcqmwnujh78-8.start{counter-reset:lst-ctn-kix_rtcqmwnujh78-8 0}.lst-kix_19qvfcqr2aqc-2>li:before{content:"\0025a0   "}.lst-kix_9pgs6vgq5fvx-2>li{counter-increment:lst-ctn-kix_9pgs6vgq5fvx-2}.lst-kix_1x1rudjigwgu-2>li:before{content:"\0025a0   "}ol.lst-kix_uztcojq4jjfk-8.start{counter-reset:lst-ctn-kix_uztcojq4jjfk-8 0}.lst-kix_1x1rudjigwgu-0>li:before{content:"\0025cf   "}.lst-kix_1x1rudjigwgu-4>li:before{content:"\0025cb   "}.lst-kix_1x1rudjigwgu-1>li:before{content:"\0025cb   "}.lst-kix_1x1rudjigwgu-5>li:before{content:"\0025a0   "}.lst-kix_19qvfcqr2aqc-4>li:before{content:"\0025cb   "}.lst-kix_rtcqmwnujh78-0>li:before{content:"" counter(lst-ctn-kix_rtcqmwnujh78-0,decimal) ". "}ol.lst-kix_52apgr53jiai-1.start{counter-reset:lst-ctn-kix_52apgr53jiai-1 0}ol.lst-kix_rtcqmwnujh78-2.start{counter-reset:lst-ctn-kix_rtcqmwnujh78-2 0}.lst-kix_19qvfcqr2aqc-5>li:before{content:"\0025a0   "}.lst-kix_rtcqmwnujh78-1>li:before{content:"" counter(lst-ctn-kix_rtcqmwnujh78-1,lower-latin) ". "}.lst-kix_rtcqmwnujh78-2>li:before{content:"" counter(lst-ctn-kix_rtcqmwnujh78-2,lower-roman) ". "}.lst-kix_1x1rudjigwgu-3>li:before{content:"\0025cf   "}.lst-kix_19qvfcqr2aqc-6>li:before{content:"\0025cf   "}ul.lst-kix_asgneavnvrb9-4{list-style-type:none}ul.lst-kix_j8sg3c2vefq6-3{list-style-type:none}ul.lst-kix_asgneavnvrb9-3{list-style-type:none}ul.lst-kix_j8sg3c2vefq6-4{list-style-type:none}ul.lst-kix_asgneavnvrb9-2{list-style-type:none}ul.lst-kix_j8sg3c2vefq6-1{list-style-type:none}ul.lst-kix_asgneavnvrb9-1{list-style-type:none}ul.lst-kix_j8sg3c2vefq6-2{list-style-type:none}.lst-kix_19qvfcqr2aqc-7>li:before{content:"\0025cb   "}ul.lst-kix_asgneavnvrb9-8{list-style-type:none}.lst-kix_1x1rudjigwgu-8>li:before{content:"\0025a0   "}ul.lst-kix_asgneavnvrb9-7{list-style-type:none}ul.lst-kix_j8sg3c2vefq6-0{list-style-type:none}ul.lst-kix_asgneavnvrb9-6{list-style-type:none}.lst-kix_52apgr53jiai-8>li:before{content:"" counter(lst-ctn-kix_52apgr53jiai-8,lower-roman) ". "}ul.lst-kix_asgneavnvrb9-5{list-style-type:none}.lst-kix_19qvfcqr2aqc-8>li:before{content:"\0025a0   "}ol.lst-kix_9pgs6vgq5fvx-1.start{counter-reset:lst-ctn-kix_9pgs6vgq5fvx-1 0}.lst-kix_1x1rudjigwgu-6>li:before{content:"\0025cf   "}.lst-kix_52apgr53jiai-4>li{counter-increment:lst-ctn-kix_52apgr53jiai-4}.lst-kix_uztcojq4jjfk-0>li{counter-increment:lst-ctn-kix_uztcojq4jjfk-0}.lst-kix_rtcqmwnujh78-2>li{counter-increment:lst-ctn-kix_rtcqmwnujh78-2}.lst-kix_1x1rudjigwgu-7>li:before{content:"\0025cb   "}.lst-kix_52apgr53jiai-1>li:before{content:"" counter(lst-ctn-kix_52apgr53jiai-1,lower-latin) ". "}.lst-kix_52apgr53jiai-2>li{counter-increment:lst-ctn-kix_52apgr53jiai-2}ol.lst-kix_uztcojq4jjfk-7.start{counter-reset:lst-ctn-kix_uztcojq4jjfk-7 0}.lst-kix_52apgr53jiai-8>li{counter-increment:lst-ctn-kix_52apgr53jiai-8}.lst-kix_52apgr53jiai-0>li:before{content:"" counter(lst-ctn-kix_52apgr53jiai-0,decimal) ". "}.lst-kix_52apgr53jiai-4>li:before{content:"" counter(lst-ctn-kix_52apgr53jiai-4,lower-latin) ". "}.lst-kix_52apgr53jiai-5>li:before{content:"" counter(lst-ctn-kix_52apgr53jiai-5,lower-roman) ". "}ol.lst-kix_9pgs6vgq5fvx-0{list-style-type:none}ol.lst-kix_9pgs6vgq5fvx-1{list-style-type:none}ol.lst-kix_9pgs6vgq5fvx-2{list-style-type:none}ol.lst-kix_9pgs6vgq5fvx-3{list-style-type:none}.lst-kix_52apgr53jiai-7>li:before{content:"" counter(lst-ctn-kix_52apgr53jiai-7,lower-latin) ". "}ol.lst-kix_9pgs6vgq5fvx-4{list-style-type:none}ol.lst-kix_9pgs6vgq5fvx-5{list-style-type:none}.lst-kix_rtcqmwnujh78-6>li{counter-increment:lst-ctn-kix_rtcqmwnujh78-6}.lst-kix_52apgr53jiai-6>li:before{content:"" counter(lst-ctn-kix_52apgr53jiai-6,decimal) ". "}ol.lst-kix_9pgs6vgq5fvx-6{list-style-type:none}.lst-kix_asgneavnvrb9-6>li:before{content:"\0025a0   "}ol.lst-kix_52apgr53jiai-6.start{counter-reset:lst-ctn-kix_52apgr53jiai-6 0}ol.lst-kix_9pgs6vgq5fvx-2.start{counter-reset:lst-ctn-kix_9pgs6vgq5fvx-2 0}.lst-kix_asgneavnvrb9-4>li:before{content:"\0025c6   "}.lst-kix_asgneavnvrb9-8>li:before{content:"\0025c6   "}.lst-kix_asgneavnvrb9-5>li:before{content:"\0027a2   "}ol.lst-kix_9pgs6vgq5fvx-8.start{counter-reset:lst-ctn-kix_9pgs6vgq5fvx-8 0}.lst-kix_rtcqmwnujh78-0>li{counter-increment:lst-ctn-kix_rtcqmwnujh78-0}.lst-kix_52apgr53jiai-3>li:before{content:"" counter(lst-ctn-kix_52apgr53jiai-3,decimal) ". "}.lst-kix_asgneavnvrb9-7>li:before{content:"\0025cf   "}.lst-kix_52apgr53jiai-2>li:before{content:"" counter(lst-ctn-kix_52apgr53jiai-2,lower-roman) ". "}.lst-kix_asgneavnvrb9-0>li:before{content:"\002756   "}.lst-kix_asgneavnvrb9-1>li:before{content:"\0027a2   "}.lst-kix_asgneavnvrb9-2>li:before{content:"\0025a0   "}.lst-kix_asgneavnvrb9-3>li:before{content:"\0025cf   "}ol.lst-kix_9pgs6vgq5fvx-7{list-style-type:none}ol.lst-kix_rtcqmwnujh78-1.start{counter-reset:lst-ctn-kix_rtcqmwnujh78-1 0}ol.lst-kix_9pgs6vgq5fvx-8{list-style-type:none}ol.lst-kix_52apgr53jiai-0.start{counter-reset:lst-ctn-kix_52apgr53jiai-0 0}.lst-kix_9pgs6vgq5fvx-0>li{counter-increment:lst-ctn-kix_9pgs6vgq5fvx-0}ol.lst-kix_rtcqmwnujh78-7.start{counter-reset:lst-ctn-kix_rtcqmwnujh78-7 0}.lst-kix_9pgs6vgq5fvx-6>li{counter-increment:lst-ctn-kix_9pgs6vgq5fvx-6}.lst-kix_7tj5mmkvypiu-6>li:before{content:"\0025cf   "}.lst-kix_9pgs6vgq5fvx-3>li:before{content:"" counter(lst-ctn-kix_9pgs6vgq5fvx-3,decimal) ". "}.lst-kix_7tj5mmkvypiu-2>li:before{content:"\0025a0   "}.lst-kix_p6ok4t4stm5p-0>li:before{content:"\0025cf   "}.lst-kix_7tj5mmkvypiu-4>li:before{content:"\0025cb   "}.lst-kix_9pgs6vgq5fvx-5>li:before{content:"" counter(lst-ctn-kix_9pgs6vgq5fvx-5,lower-roman) ". "}.lst-kix_p6ok4t4stm5p-4>li:before{content:"\0025cb   "}ol.lst-kix_9pgs6vgq5fvx-3.start{counter-reset:lst-ctn-kix_9pgs6vgq5fvx-3 0}.lst-kix_p6ok4t4stm5p-2>li:before{content:"\0025a0   "}.lst-kix_p6ok4t4stm5p-6>li:before{content:"\0025cf   "}.lst-kix_uztcojq4jjfk-8>li{counter-increment:lst-ctn-kix_uztcojq4jjfk-8}.lst-kix_7tj5mmkvypiu-8>li:before{content:"\0025a0   "}.lst-kix_9pgs6vgq5fvx-1>li:before{content:"" counter(lst-ctn-kix_9pgs6vgq5fvx-1,lower-latin) ". "}.lst-kix_9pgs6vgq5fvx-8>li{counter-increment:lst-ctn-kix_9pgs6vgq5fvx-8}ol.lst-kix_uztcojq4jjfk-1.start{counter-reset:lst-ctn-kix_uztcojq4jjfk-1 0}.lst-kix_uztcojq4jjfk-6>li{counter-increment:lst-ctn-kix_uztcojq4jjfk-6}ol.lst-kix_52apgr53jiai-8.start{counter-reset:lst-ctn-kix_52apgr53jiai-8 0}.lst-kix_7tj5mmkvypiu-0>li:before{content:"\0025cf   "}.lst-kix_9pgs6vgq5fvx-7>li{counter-increment:lst-ctn-kix_9pgs6vgq5fvx-7}.lst-kix_52apgr53jiai-3>li{counter-increment:lst-ctn-kix_52apgr53jiai-3}.lst-kix_9pgs6vgq5fvx-1>li{counter-increment:lst-ctn-kix_9pgs6vgq5fvx-1}ol.lst-kix_9pgs6vgq5fvx-5.start{counter-reset:lst-ctn-kix_9pgs6vgq5fvx-5 0}ol.lst-kix_uztcojq4jjfk-4.start{counter-reset:lst-ctn-kix_uztcojq4jjfk-4 0}.lst-kix_j8sg3c2vefq6-1>li:before{content:"\0025cb   "}ol.lst-kix_9pgs6vgq5fvx-6.start{counter-reset:lst-ctn-kix_9pgs6vgq5fvx-6 0}.lst-kix_rtcqmwnujh78-4>li{counter-increment:lst-ctn-kix_rtcqmwnujh78-4}.lst-kix_19qvfcqr2aqc-0>li:before{content:"\0025cf   "}.lst-kix_j8sg3c2vefq6-5>li:before{content:"\0025a0   "}.lst-kix_j8sg3c2vefq6-7>li:before{content:"\0025cb   "}.lst-kix_uztcojq4jjfk-1>li{counter-increment:lst-ctn-kix_uztcojq4jjfk-1}.lst-kix_uztcojq4jjfk-7>li{counter-increment:lst-ctn-kix_uztcojq4jjfk-7}.lst-kix_9pgs6vgq5fvx-7>li:before{content:"" counter(lst-ctn-kix_9pgs6vgq5fvx-7,lower-latin) ". "}ol.lst-kix_uztcojq4jjfk-3.start{counter-reset:lst-ctn-kix_uztcojq4jjfk-3 0}.lst-kix_j8sg3c2vefq6-3>li:before{content:"\0025cf   "}.lst-kix_52apgr53jiai-5>li{counter-increment:lst-ctn-kix_52apgr53jiai-5}ol.lst-kix_rtcqmwnujh78-5.start{counter-reset:lst-ctn-kix_rtcqmwnujh78-5 0}.lst-kix_rtcqmwnujh78-3>li{counter-increment:lst-ctn-kix_rtcqmwnujh78-3}ol.lst-kix_52apgr53jiai-4.start{counter-reset:lst-ctn-kix_52apgr53jiai-4 0}.lst-kix_9pgs6vgq5fvx-5>li{counter-increment:lst-ctn-kix_9pgs6vgq5fvx-5}.lst-kix_uztcojq4jjfk-3>li{counter-increment:lst-ctn-kix_uztcojq4jjfk-3}ul.lst-kix_p6ok4t4stm5p-8{list-style-type:none}ul.lst-kix_p6ok4t4stm5p-4{list-style-type:none}ol.lst-kix_uztcojq4jjfk-5.start{counter-reset:lst-ctn-kix_uztcojq4jjfk-5 0}ul.lst-kix_p6ok4t4stm5p-5{list-style-type:none}ul.lst-kix_p6ok4t4stm5p-6{list-style-type:none}ul.lst-kix_p6ok4t4stm5p-7{list-style-type:none}.lst-kix_52apgr53jiai-7>li{counter-increment:lst-ctn-kix_52apgr53jiai-7}ol.lst-kix_9pgs6vgq5fvx-4.start{counter-reset:lst-ctn-kix_9pgs6vgq5fvx-4 0}ul.lst-kix_p6ok4t4stm5p-0{list-style-type:none}ul.lst-kix_p6ok4t4stm5p-1{list-style-type:none}ul.lst-kix_p6ok4t4stm5p-2{list-style-type:none}ul.lst-kix_p6ok4t4stm5p-3{list-style-type:none}.lst-kix_rtcqmwnujh78-5>li{counter-increment:lst-ctn-kix_rtcqmwnujh78-5}ol.lst-kix_rtcqmwnujh78-0.start{counter-reset:lst-ctn-kix_rtcqmwnujh78-0 0}.lst-kix_uztcojq4jjfk-5>li{counter-increment:lst-ctn-kix_uztcojq4jjfk-5}.lst-kix_uztcojq4jjfk-0>li:before{content:"" counter(lst-ctn-kix_uztcojq4jjfk-0,decimal) ". "}.lst-kix_uztcojq4jjfk-1>li:before{content:"" counter(lst-ctn-kix_uztcojq4jjfk-1,lower-latin) ". "}.lst-kix_uztcojq4jjfk-2>li:before{content:"" counter(lst-ctn-kix_uztcojq4jjfk-2,lower-roman) ". "}.lst-kix_uztcojq4jjfk-3>li:before{content:"" counter(lst-ctn-kix_uztcojq4jjfk-3,decimal) ". "}ol.lst-kix_uztcojq4jjfk-6.start{counter-reset:lst-ctn-kix_uztcojq4jjfk-6 0}.lst-kix_p6ok4t4stm5p-8>li:before{content:"\0025a0   "}.lst-kix_p6ok4t4stm5p-7>li:before{content:"\0025cb   "}.lst-kix_uztcojq4jjfk-8>li:before{content:"" counter(lst-ctn-kix_uztcojq4jjfk-8,lower-roman) ". "}ul.lst-kix_1x1rudjigwgu-7{list-style-type:none}.lst-kix_uztcojq4jjfk-6>li:before{content:"" counter(lst-ctn-kix_uztcojq4jjfk-6,decimal) ". "}.lst-kix_uztcojq4jjfk-7>li:before{content:"" counter(lst-ctn-kix_uztcojq4jjfk-7,lower-latin) ". "}ul.lst-kix_1x1rudjigwgu-8{list-style-type:none}ul.lst-kix_1x1rudjigwgu-5{list-style-type:none}ul.lst-kix_1x1rudjigwgu-6{list-style-type:none}ul.lst-kix_1x1rudjigwgu-3{list-style-type:none}ol.lst-kix_uztcojq4jjfk-0.start{counter-reset:lst-ctn-kix_uztcojq4jjfk-0 0}.lst-kix_uztcojq4jjfk-4>li:before{content:"" counter(lst-ctn-kix_uztcojq4jjfk-4,lower-latin) ". "}.lst-kix_uztcojq4jjfk-5>li:before{content:"" counter(lst-ctn-kix_uztcojq4jjfk-5,lower-roman) ". "}ul.lst-kix_1x1rudjigwgu-4{list-style-type:none}.lst-kix_9pgs6vgq5fvx-3>li{counter-increment:lst-ctn-kix_9pgs6vgq5fvx-3}ul.lst-kix_1x1rudjigwgu-1{list-style-type:none}ul.lst-kix_1x1rudjigwgu-2{list-style-type:none}ul.lst-kix_1x1rudjigwgu-0{list-style-type:none}.lst-kix_9pgs6vgq5fvx-2>li:before{content:"" counter(lst-ctn-kix_9pgs6vgq5fvx-2,lower-roman) ". "}.lst-kix_7tj5mmkvypiu-5>li:before{content:"\0025a0   "}.lst-kix_7tj5mmkvypiu-7>li:before{content:"\0025cb   "}.lst-kix_9pgs6vgq5fvx-6>li:before{content:"" counter(lst-ctn-kix_9pgs6vgq5fvx-6,decimal) ". "}.lst-kix_p6ok4t4stm5p-1>li:before{content:"\0025cb   "}.lst-kix_7tj5mmkvypiu-3>li:before{content:"\0025cf   "}.lst-kix_9pgs6vgq5fvx-4>li:before{content:"" counter(lst-ctn-kix_9pgs6vgq5fvx-4,lower-latin) ". "}.lst-kix_p6ok4t4stm5p-5>li:before{content:"\0025a0   "}.lst-kix_52apgr53jiai-0>li{counter-increment:lst-ctn-kix_52apgr53jiai-0}.lst-kix_9pgs6vgq5fvx-0>li:before{content:"" counter(lst-ctn-kix_9pgs6vgq5fvx-0,decimal) ". "}ol.lst-kix_9pgs6vgq5fvx-0.start{counter-reset:lst-ctn-kix_9pgs6vgq5fvx-0 0}.lst-kix_p6ok4t4stm5p-3>li:before{content:"\0025cf   "}ol.lst-kix_uztcojq4jjfk-8{list-style-type:none}ol.lst-kix_uztcojq4jjfk-3{list-style-type:none}ol.lst-kix_uztcojq4jjfk-2{list-style-type:none}ol.lst-kix_uztcojq4jjfk-1{list-style-type:none}ol.lst-kix_uztcojq4jjfk-0{list-style-type:none}ol.lst-kix_uztcojq4jjfk-7{list-style-type:none}ol.lst-kix_uztcojq4jjfk-6{list-style-type:none}ol.lst-kix_uztcojq4jjfk-5{list-style-type:none}ol.lst-kix_rtcqmwnujh78-6.start{counter-reset:lst-ctn-kix_rtcqmwnujh78-6 0}ol.lst-kix_uztcojq4jjfk-4{list-style-type:none}ul.lst-kix_7tj5mmkvypiu-3{list-style-type:none}ul.lst-kix_7tj5mmkvypiu-4{list-style-type:none}ul.lst-kix_7tj5mmkvypiu-5{list-style-type:none}ul.lst-kix_7tj5mmkvypiu-6{list-style-type:none}ul.lst-kix_7tj5mmkvypiu-7{list-style-type:none}ul.lst-kix_7tj5mmkvypiu-8{list-style-type:none}.lst-kix_rtcqmwnujh78-8>li{counter-increment:lst-ctn-kix_rtcqmwnujh78-8}ol.lst-kix_52apgr53jiai-5.start{counter-reset:lst-ctn-kix_52apgr53jiai-5 0}.lst-kix_52apgr53jiai-1>li{counter-increment:lst-ctn-kix_52apgr53jiai-1}.lst-kix_7tj5mmkvypiu-1>li:before{content:"\0025cb   "}ul.lst-kix_7tj5mmkvypiu-0{list-style-type:none}ul.lst-kix_7tj5mmkvypiu-1{list-style-type:none}ul.lst-kix_7tj5mmkvypiu-2{list-style-type:none}ol.lst-kix_52apgr53jiai-2{list-style-type:none}ol.lst-kix_52apgr53jiai-1{list-style-type:none}ol.lst-kix_52apgr53jiai-0{list-style-type:none}ol.lst-kix_rtcqmwnujh78-8{list-style-type:none}ol.lst-kix_52apgr53jiai-8{list-style-type:none}ol.lst-kix_rtcqmwnujh78-7{list-style-type:none}ol.lst-kix_52apgr53jiai-7{list-style-type:none}ol.lst-kix_52apgr53jiai-6{list-style-type:none}ol.lst-kix_52apgr53jiai-2.start{counter-reset:lst-ctn-kix_52apgr53jiai-2 0}ol.lst-kix_52apgr53jiai-5{list-style-type:none}ol.lst-kix_52apgr53jiai-4{list-style-type:none}ol.lst-kix_52apgr53jiai-3{list-style-type:none}.lst-kix_j8sg3c2vefq6-8>li:before{content:"\0025a0   "}ol.lst-kix_rtcqmwnujh78-3.start{counter-reset:lst-ctn-kix_rtcqmwnujh78-3 0}ol.lst-kix_rtcqmwnujh78-4.start{counter-reset:lst-ctn-kix_rtcqmwnujh78-4 0}.lst-kix_rtcqmwnujh78-7>li{counter-increment:lst-ctn-kix_rtcqmwnujh78-7}ol.lst-kix_52apgr53jiai-3.start{counter-reset:lst-ctn-kix_52apgr53jiai-3 0}.lst-kix_19qvfcqr2aqc-1>li:before{content:"\0025cb   "}.lst-kix_j8sg3c2vefq6-0>li:before{content:"\0025cf   "}.lst-kix_j8sg3c2vefq6-4>li:before{content:"\0025cb   "}ul.lst-kix_19qvfcqr2aqc-5{list-style-type:none}ul.lst-kix_19qvfcqr2aqc-6{list-style-type:none}ul.lst-kix_19qvfcqr2aqc-7{list-style-type:none}ul.lst-kix_19qvfcqr2aqc-8{list-style-type:none}.lst-kix_rtcqmwnujh78-1>li{counter-increment:lst-ctn-kix_rtcqmwnujh78-1}li.li-bullet-0:before{margin-left:-18pt;white-space:nowrap;display:inline-block;min-width:18pt}.lst-kix_j8sg3c2vefq6-6>li:before{content:"\0025cf   "}ol.lst-kix_rtcqmwnujh78-2{list-style-type:none}ol.lst-kix_rtcqmwnujh78-1{list-style-type:none}.lst-kix_uztcojq4jjfk-4>li{counter-increment:lst-ctn-kix_uztcojq4jjfk-4}ol.lst-kix_rtcqmwnujh78-0{list-style-type:none}ul.lst-kix_19qvfcqr2aqc-0{list-style-type:none}ol.lst-kix_rtcqmwnujh78-6{list-style-type:none}ul.lst-kix_19qvfcqr2aqc-1{list-style-type:none}ol.lst-kix_rtcqmwnujh78-5{list-style-type:none}ul.lst-kix_19qvfcqr2aqc-2{list-style-type:none}ol.lst-kix_rtcqmwnujh78-4{list-style-type:none}ul.lst-kix_19qvfcqr2aqc-3{list-style-type:none}ol.lst-kix_rtcqmwnujh78-3{list-style-type:none}ul.lst-kix_19qvfcqr2aqc-4{list-style-type:none}.lst-kix_9pgs6vgq5fvx-8>li:before{content:"" counter(lst-ctn-kix_9pgs6vgq5fvx-8,lower-roman) ". "}.lst-kix_j8sg3c2vefq6-2>li:before{content:"\0025a0   "}ol{margin:0;padding:0}table td,table th{padding:0}.c17{border-right-style:solid;padding:2pt 2pt 2pt 2pt;border-bottom-color:#cccccc;border-top-width:1pt;border-right-width:1pt;border-left-color:#cccccc;vertical-align:bottom;border-right-color:#cccccc;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:126.2pt;border-top-color:#cccccc;border-bottom-style:solid}.c30{border-right-style:solid;padding:2pt 2pt 2pt 2pt;border-bottom-color:#cccccc;border-top-width:1pt;border-right-width:1pt;border-left-color:#cccccc;vertical-align:bottom;border-right-color:#cccccc;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:146.5pt;border-top-color:#cccccc;border-bottom-style:solid}.c24{border-right-style:solid;padding:2pt 2pt 2pt 2pt;border-bottom-color:#cccccc;border-top-width:1pt;border-right-width:1pt;border-left-color:#cccccc;vertical-align:bottom;border-right-color:#cccccc;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:111.9pt;border-top-color:#cccccc;border-bottom-style:solid}.c38{border-right-style:solid;padding:2pt 2pt 2pt 2pt;border-bottom-color:#cccccc;border-top-width:1pt;border-right-width:1pt;border-left-color:#cccccc;vertical-align:bottom;border-right-color:#cccccc;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:83.4pt;border-top-color:#cccccc;border-bottom-style:solid}.c26{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:468pt;border-top-color:#000000;border-bottom-style:solid}.c51{-webkit-text-decoration-skip:none;font-weight:700;text-decoration:underline;vertical-align:baseline;text-decoration-skip-ink:none;font-size:15pt;font-family:"Arial";font-style:normal}.c3{background-color:#ffffff;color:#292a2e;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:12pt;font-family:"Arial";font-style:normal}.c20{background-color:#f4cccc;color:#292a2e;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:12pt;font-family:"Arial";font-style:normal}.c8{background-color:#ffffff;margin-left:18pt;padding-top:2pt;padding-bottom:1pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c18{background-color:#ffffff;padding-top:2pt;padding-bottom:4pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c22{background-color:#ffffff;padding-top:2pt;padding-bottom:1pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c0{color:#2c2c2b;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:12pt;font-family:"Arial";font-style:normal}.c52{background-color:#ffffff;padding-top:1pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c6{color:#383a42;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:12pt;font-family:"Arial";font-style:normal}.c29{padding-top:12pt;padding-bottom:12pt;line-height:1.5;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c4{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:12pt;font-family:"Arial";font-style:normal}.c44{padding-top:14pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c47{padding-top:0pt;padding-bottom:0pt;line-height:1.5;orphans:2;widows:2;text-align:left}.c5{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c40{padding-top:6pt;padding-bottom:6pt;line-height:1.5;orphans:2;widows:2;text-align:left}.c9{padding-top:12pt;padding-bottom:12pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c35{font-weight:700;text-decoration:none;vertical-align:baseline;font-size:13pt;font-family:"Arial";font-style:normal}.c37{color:#2c2c2b;text-decoration:none;vertical-align:baseline;font-family:"Arial";font-style:italic}.c16{color:#2c2c2b;text-decoration:none;vertical-align:baseline;font-family:"Arial";font-style:normal}.c23{color:#000000;text-decoration:none;vertical-align:baseline;font-family:"Arial";font-style:normal}.c54{text-decoration:none;vertical-align:baseline;font-family:"Arial";font-style:normal}.c15{padding-top:0pt;padding-bottom:0pt;line-height:1.15;text-align:center}.c19{padding-top:0pt;padding-bottom:0pt;line-height:1.15;text-align:left}.c39{border-spacing:0;border-collapse:collapse;margin-right:auto}.c28{margin-left:18pt;text-indent:-18pt;page-break-after:avoid}.c41{list-style-position:inside;text-indent:45pt}.c59{max-width:468pt;padding:72pt 72pt 72pt 72pt}.c27{margin-left:72pt;padding-left:0pt}.c42{font-weight:700;font-size:14pt}.c11{margin-left:36pt;height:11pt}.c1{color:#50a14f;font-size:12pt}.c21{color:#4078f2;font-size:12pt}.c56{font-size:12pt;font-style:italic}.c32{color:#e45649;font-size:12pt}.c14{padding:0;margin:0}.c55{font-weight:400;font-size:11pt}.c43{font-weight:400;font-size:12pt}.c12{font-size:12pt;font-weight:700}.c31{color:#a626a4;font-size:12pt}.c45{color:#b76b01;font-size:12pt}.c10{color:#383a42;font-size:12pt}.c7{margin-left:36pt;padding-left:0pt}.c53{background-color:#f4cccc;color:#292a2e}.c25{background-color:#ffffff;color:#292a2e}.c49{margin-left:18pt;height:20pt}.c34{page-break-after:avoid}.c60{font-size:12pt}.c58{background-color:#ffffff}.c2{height:15.8pt}.c36{margin-left:108pt}.c33{margin-left:36pt}.c48{color:#2c2c2b}.c46{height:0pt}.c13{height:11pt}.c57{height:26.2pt}.c50{margin-left:18pt}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c58 c59 doc-content"><p class="c5 c34 title" id="h.jsltcodp5q7i"><span class="c25 c51">Shell Authentication Use Case: Neo Implementation Guide</span></p><p class="c5 c13"><span class="c3"></span></p><h1 class="c18" id="h.lwvl9s67fh61"><span class="c16 c42">Executive Summary</span></h1><p class="c9"><span class="c3">This document captures how Shell transformed their point-of-sale authentication infrastructure across thousands of retail stations using Capillary&#39;s Neo platform. The solution bridges legacy AWS Cognito authentication with Capillary&#39;s Auth Engine v3, while maintaining zero disruption to existing store operations and enforcing strict store-level authorization on every API call.</span></p><p class="c9"><span class="c3">The goal is simple: Shell needs every POS to use a short-lived, store-scoped token before calling Capillary APIs. The POS must keep its current URL and credential behavior. Capillary&rsquo;s platform doesn&rsquo;t natively enforce &ldquo;token must belong to this store/site&rdquo; or translate Shell&rsquo;s POS payloads. Neo sits in the middle to (1) translate requests and responses and (2) enforce store-level authorization using a small mapping database. Shell&rsquo;s own Cloudflare stays at the front for brand-specific policies like IP logging and geofencing. Result: no POS changes, modern token flows, strict store binding, and clear monitoring.</span></p><p class="c9"><span class="c12 c53">Key Achievement:</span><span class="c20">&nbsp;X+ Shell stations migrated with 99.9% uptime, zero POS reconfiguration, and xx% cost reduction.</span></p><h1 class="c18" id="h.m9h0jzcd2qna"><span class="c16 c12">1. Business Use Case in Detail</span></h1><p class="c44"><span class="c12">Goal</span><span class="c4">: Only a store&rsquo;s own POS can access customer, promotion, and retail functions for that store.</span></p><p class="c44"><span class="c12">How it feels at the counter:</span><span class="c4">&nbsp;Cashier starts the shift, POS calls a familiar URL to get a token, then uses that token to (a) fetch eligible offers and (b) commit the sale. Everything continues to &ldquo;just work&rdquo; even as we modernize authentication.</span></p><p class="c44"><span class="c12">Why store-scoped token</span><span class="c4">s: Prevent cross-store leakage, keep audits clean, and enable per-store controls in incident response.</span></p><p class="c44"><span class="c12">No change on POS</span><span class="c4">: The POS continues to use the same Cloudflare URL and the same credential behavior it already has (historically Cognito app client_id/client_secret).</span></p><h2 class="c44" id="h.vz926vvw516q"><span class="c23 c12">The Real-World Scenario</span></h2><p class="c9"><span class="c3">Imagine a busy Shell petrol station in Kuala Lumpur at 8 AM on a Monday morning. A customer pulls in, fills up their tank with RM 150 worth of fuel, and presents their Shell loyalty card at the POS terminal. Within milliseconds, the system must:</span></p><ol class="c14 lst-kix_52apgr53jiai-0 start" start="1"><li class="c7 c9 li-bullet-0"><span class="c12 c25">Authenticate</span><span class="c3">&nbsp;the POS system with Shell&#39;s loyalty platform</span></li><li class="c9 c7 li-bullet-0"><span class="c12 c25">Fetch</span><span class="c3">&nbsp;personalized offers for this specific customer</span></li><li class="c9 c7 li-bullet-0"><span class="c12 c25">Process</span><span class="c3">&nbsp;the transaction and redeem applicable rewards</span></li><li class="c9 c7 li-bullet-0"><span class="c12 c25">Award</span><span class="c3">&nbsp;loyalty points in real-time</span></li></ol><p class="c9"><span class="c3">Now multiply this scenario by thousands of Shell stations across Malaysia, and other APAC markets, processing millions of transactions daily. Each station operates as an independent entity with unique credentials, yet all must seamlessly communicate with a centralized loyalty platform.</span></p><p class="c5"><span class="c3">A Shell cashier starts the day and the POS needs a valid access token. The POS makes a call to the known Cloudflare URL. Neo receives that request, looks up which credentials belong to that store, requests a token from Capillary&rsquo;s authorization service, and returns the token along with its time&#8209;to&#8209;live (about one hour). Throughout the day the POS uses this token when it asks for offers and when it authorizes retail transactions. If the token expires or becomes invalid, Neo either obtains a new one or sends a clear signal that the POS should fetch a new token. This approach keeps the store workflow unchanged, isolates each store with its own token, and reduces risk by handling token lifecycle centrally.</span></p><p class="c13 c47"><span class="c3"></span></p><h1 class="c18 c28" id="h.lbe1mi5mzv05"><span class="c12 c16">2. Why This Cannot Be Solved Out-of-the-Box (OOB)</span></h1><p class="c5"><span class="c4">If we tried to connect POS &rarr; Platform directly, two issues appear immediately:</span></p><p class="c5 c13"><span class="c4"></span></p><h2 class="c5 c34" id="h.fudxr6yv3uff"><span class="c12">i) Payload mismatch: </span><span class="c4">the POS sends requests its own way; &nbsp;Auth Engine v3 expects JSON bodies, different field names, and different response shapes. Forcing a POS change at every till would be a long, fragile rollout.</span></h2><p class="c5 c13"><span class="c4"></span></p><p class="c5"><span class="c4">Shell&#39;s POS systems speak &quot;AWS Cognito language&quot;:</span></p><p class="c5 c13"><span class="c4"></span></p><table class="c39"><tr class="c46"><td class="c26" colspan="1" rowspan="1"><p class="c5"><span class="c4">POST /auth</span></p><p class="c5"><span class="c4">Content-Type: application/x-www-form-urlencoded</span></p><p class="c5 c13"><span class="c4"></span></p><p class="c5"><span class="c4">grant_type=client_credentials&amp;client_id=1poq20qc...&amp;client_secret=142kvi&hellip;</span></p></td></tr></table><p class="c5 c13"><span class="c4"></span></p><p class="c5"><span class="c4">Capillary&#39;s Auth Engine v3 speaks a different language:</span></p><p class="c5 c13"><span class="c4"></span></p><p class="c5 c13"><span class="c4"></span></p><table class="c39"><tr class="c46"><td class="c26" colspan="1" rowspan="1"><p class="c5"><span class="c4">POST /v3/oauth/token/generate</span></p><p class="c5"><span class="c4">Content-Type: application/json</span></p><p class="c5 c13"><span class="c4"></span></p><p class="c5"><span class="c4">{</span></p><p class="c5"><span class="c4">&nbsp; &quot;key&quot;: &quot;slbGGSa8B9SI...&quot;,</span></p><p class="c5"><span class="c4">&nbsp; &quot;secret&quot;: &quot;PXyZqPGHb...&quot;</span></p><p class="c5"><span class="c4">}</span></p></td></tr></table><p class="c5 c13"><span class="c4"></span></p><p class="c5"><span class="c4">These are fundamentally incompatible. The POS sends form-encoded data with client_id and client_secret. Auth Engine v3 expects JSON with key and secret.</span></p><p class="c5 c13"><span class="c4"></span></p><p class="c5"><span class="c4">Even the response formats differ:</span></p><p class="c9"><span class="c23 c12">AWS Cognito Response:</span></p><p class="c5 c13"><span class="c4"></span></p><table class="c39"><tr class="c46"><td class="c26" colspan="1" rowspan="1"><p class="c5"><span class="c4">json</span></p><p class="c5"><span class="c6">{</span></p><p class="c5"><span class="c10">&nbsp; </span><span class="c32">&quot;access_token&quot;</span><span class="c21">:</span><span class="c10">&nbsp;</span><span class="c1">&quot;eyJraWQ...&quot;</span><span class="c6">,</span></p><p class="c5"><span class="c10">&nbsp; </span><span class="c32">&quot;expires_in&quot;</span><span class="c21">:</span><span class="c10">&nbsp;</span><span class="c45">3600</span><span class="c6">,</span></p><p class="c5"><span class="c10">&nbsp; </span><span class="c32">&quot;token_type&quot;</span><span class="c21">:</span><span class="c10">&nbsp;</span><span class="c1">&quot;Bearer&quot;</span></p><p class="c40"><span class="c10">}</span></p></td></tr></table><p class="c9"><span class="c23 c12">Auth Engine v3 Response:</span></p><p class="c5 c13"><span class="c4"></span></p><table class="c39"><tr class="c46"><td class="c26" colspan="1" rowspan="1"><p class="c5"><span class="c4">json</span></p><p class="c5"><span class="c6">{</span></p><p class="c5"><span class="c10">&nbsp; </span><span class="c32">&quot;data&quot;</span><span class="c21">:</span><span class="c6">&nbsp;{</span></p><p class="c5"><span class="c10">&nbsp; &nbsp; </span><span class="c32">&quot;accessToken&quot;</span><span class="c21">:</span><span class="c10">&nbsp;</span><span class="c1">&quot;eyJraWQ...&quot;</span><span class="c6">,</span></p><p class="c5"><span class="c10">&nbsp; &nbsp; </span><span class="c32">&quot;ttlSeconds&quot;</span><span class="c21">:</span><span class="c10">&nbsp;</span><span class="c45">3600</span></p><p class="c5"><span class="c6">&nbsp; },</span></p><p class="c5"><span class="c10">&nbsp; </span><span class="c32">&quot;errors&quot;</span><span class="c21">:</span><span class="c10">&nbsp;</span><span class="c31">null</span><span class="c6">,</span></p><p class="c5"><span class="c10">&nbsp; </span><span class="c32">&quot;warnings&quot;</span><span class="c21">:</span><span class="c10">&nbsp;</span><span class="c31">null</span></p><p class="c40"><span class="c10">}</span></p></td></tr></table><p class="c5 c13"><span class="c4"></span></p><h2 class="c5 c34" id="h.e7fkep4t8p0v"><span class="c12">ii) Missing Store-Level Authorization: </span><span class="c4">Capillary&#39;s platform focuses on business logic (customers, promotions, retail). It doesn&rsquo;t, by default, check that &ldquo;this token is from this site&rdquo; before every call like getOffer or addRetail.</span></h2><p class="c5 c13"><span class="c4"></span></p><p class="c5"><span class="c23 c12">Why this matters:</span></p><p class="c5 c13"><span class="c23 c12"></span></p><p class="c5"><span class="c23 c12">Consider this scenario:</span></p><p class="c5 c13"><span class="c23 c12"></span></p><p class="c5"><span class="c4">Store A in Kuala Lumpur generates Token X</span></p><p class="c5 c36"><span class="c4">&nbsp;&darr;</span></p><p class="c5"><span class="c4">Malicious actor intercepts Token X</span></p><p class="c5 c36"><span class="c4">&nbsp;&darr;</span></p><p class="c5"><span class="c4">Tries to use Token X at Store B in Singapore</span></p><p class="c5 c36"><span class="c4">&nbsp;&darr;</span></p><p class="c5"><span class="c4">Without store-binding check: &#10003; Request succeeds (security breach!)</span></p><p class="c5 c13"><span class="c4"></span></p><p class="c5"><span class="c4">With store-binding check: X Request blocked (correct behavior)</span></p><p class="c5 c13"><span class="c4"></span></p><p class="c5"><span class="c4">Every token must be validated against the site/entity it was issued for. </span></p><p class="c5 c13"><span class="c4"></span></p><p class="c5"><span class="c4">This prevents:</span></p><p class="c5 c13"><span class="c4"></span></p><ul class="c14 lst-kix_19qvfcqr2aqc-0 start"><li class="c5 c7 li-bullet-0"><span class="c4">Cross-store data leakage</span></li><li class="c5 c7 li-bullet-0"><span class="c4">Unauthorized transaction submissions</span></li><li class="c5 c7 li-bullet-0"><span class="c4">Token theft/replay attacks</span></li></ul><h2 class="c44" id="h.k301l5lxc347"><span class="c23 c12">What a Simple API Gateway Would Do</span></h2><p class="c9"><span class="c4">A basic API gateway could theoretically:</span></p><ul class="c14 lst-kix_p6ok4t4stm5p-0 start"><li class="c9 c7 li-bullet-0"><span class="c4">Route requests from POS to Auth Engine</span></li><li class="c9 c7 li-bullet-0"><span class="c4">Transform request/response formats</span></li><li class="c9 c7 li-bullet-0"><span class="c4">Handle HTTPS/SSL termination</span></li></ul><h2 class="c9 c34" id="h.e6t5ec8yebna"><span class="c23 c12">But it cannot:</span></h2><h3 class="c29" id="h.9musq9p63ucj"><span class="c54 c12 c25">1. Maintain Credential Mappings</span></h3><p class="c9"><span class="c4">Shell has &nbsp;unique AWS Cognito credential pairs (one per store/till combination). Each needs to map to Capillary credentials:</span></p><p class="c5"><span class="c6">AWS Credentials &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Capillary Credentials</span></p><p class="c5"><span class="c6">&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;</span></p><p class="c5"><span class="c6">client_id: 1poq20qc7244po... &nbsp;&rarr; &nbsp; key: slbGGSa8B9SI...</span></p><p class="c5"><span class="c6">client_secret: 142kvi73k5th...&rarr; &nbsp; secret: PXyZqPGHb...+ &nbsp; site_id: 300113642</span></p><p class="c9"><span class="c4">Where does this mapping live? A standard API gateway has no database. You&#39;d need external storage and custom lookup logic for every single request.</span></p><h3 class="c47 c34" id="h.4ccn1x8ki2ts"><span class="c12 c25 c54">3. Enforce Store-Level Authorization</span></h3><p class="c5 c13"><span class="c4"></span></p><p class="c5"><span class="c4">Every getOffer and addRetail call must verify:</span></p><p class="c5 c13"><span class="c4"></span></p><p class="c5"><span class="c4">Token issued for Site A &rarr; Request claims to be from Site A &rarr; &#10003; Allow</span></p><p class="c5"><span class="c4">Token issued for Site A &rarr; Request claims to be from Site B &rarr; &#10007; Deny</span></p><p class="c5 c13"><span class="c4"></span></p><p class="c5"><span class="c4">This requires:</span></p><p class="c5 c13"><span class="c4"></span></p><ul class="c14 lst-kix_7tj5mmkvypiu-0 start"><li class="c5 c7 li-bullet-0"><span class="c4">Parsing JWT tokens to extract site_id</span></li><li class="c5 c7 li-bullet-0"><span class="c4">Comparing against the site_id in the request</span></li><li class="c5 c7 li-bullet-0"><span class="c4">Blocking mismatches with appropriate error messages</span></li><li class="c5 c7 li-bullet-0"><span class="c4">Logging security violations for audit</span></li></ul><p class="c5 c13"><span class="c4"></span></p><p class="c5"><span class="c4">Problems in short:-</span></p><p class="c5 c13"><span class="c4"></span></p><p class="c5"><span class="c12">Platform limitation</span><span class="c4">: Capillary&rsquo;s platform, as-is, does not enforce &ldquo;this token must belong to this site/store&rdquo; on every business call.</span></p><p class="c5 c13"><span class="c4"></span></p><p class="c5"><span class="c12">Payload mismatch:</span><span class="c4">&nbsp;The POS speaks one format; Capillary Auth Engine expects another (endpoints, fields, structure differ from the old Cognito style).</span></p><p class="c5 c13"><span class="c4"></span></p><p class="c5"><span class="c12">On-prem POS constraint: </span><span class="c4">Changing client credentials or payloads across many tills is slow and operationally heavy.</span></p><p class="c5 c13"><span class="c4"></span></p><p class="c5"><span class="c12">Brand-specific edge policies:</span><span class="c4">&nbsp;Shell wants Cloudflare rules (IP logging, geofencing) that are brand-specific, not the shared platform default.</span></p><p class="c5 c13"><span class="c4"></span></p><p class="c5"><span class="c12">Neo bridges both gaps</span><span class="c4">. It translates requests and responses so the POS can stay exactly as it is, and it performs a store&#8209;binding check before any business API is allowed to proceed. </span></p><p class="c47 c13"><span class="c3"></span></p><h3 class="c47 c34" id="h.mdmx3j9s24v"><span class="c54 c12 c25">Technical Incompatibility Matrix</span></h3><p class="c47 c13"><span class="c3"></span></p><table class="c39"><tr class="c2"><td class="c38" colspan="1" rowspan="1"><p class="c15"><span class="c12">Aspect</span></p></td><td class="c30" colspan="1" rowspan="1"><p class="c15"><span class="c12">AWS Cognito</span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c15"><span class="c12">Capillary Auth Engine (Zion)</span></p></td><td class="c24" colspan="1" rowspan="1"><p class="c15"><span class="c12">Incompatibility</span></p></td></tr><tr class="c2"><td class="c38" colspan="1" rowspan="1"><p class="c19"><span class="c4">Request format</span></p></td><td class="c30" colspan="1" rowspan="1"><p class="c19"><span class="c4">application/x-www-form-urlencoded</span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c19"><span class="c4">application/json</span></p></td><td class="c24" colspan="1" rowspan="1"><p class="c19"><span class="c4">Different content types</span></p></td></tr><tr class="c57"><td class="c38" colspan="1" rowspan="1"><p class="c19"><span class="c4">Credential structure</span></p></td><td class="c30" colspan="1" rowspan="1"><p class="c19"><span class="c4">client_id + client_secret</span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c19"><span class="c4">key + secret</span></p></td><td class="c24" colspan="1" rowspan="1"><p class="c19"><span class="c4">Different parameter names</span></p></td></tr><tr class="c2"><td class="c38" colspan="1" rowspan="1"><p class="c19"><span class="c4">Token response</span></p></td><td class="c30" colspan="1" rowspan="1"><p class="c19"><span class="c4">access_token</span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c19"><span class="c4">data.accessToken</span></p></td><td class="c24" colspan="1" rowspan="1"><p class="c19"><span class="c4">Nested JSON structure</span></p></td></tr><tr class="c2"><td class="c38" colspan="1" rowspan="1"><p class="c19"><span class="c4">Token expiry field</span></p></td><td class="c30" colspan="1" rowspan="1"><p class="c19"><span class="c4">expires_in</span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c19"><span class="c4">data.ttlSeconds</span></p></td><td class="c24" colspan="1" rowspan="1"><p class="c19"><span class="c4">Different field names</span></p></td></tr><tr class="c2"><td class="c38" colspan="1" rowspan="1"><p class="c19"><span class="c4">Authentication URL</span></p></td><td class="c30" colspan="1" rowspan="1"><p class="c19"><span class="c4">AWS Cognito endpoints</span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c19"><span class="c4">Capillary v3 OAuth endpoint</span></p></td><td class="c24" colspan="1" rowspan="1"><p class="c19"><span class="c4">Completely different URLs</span></p></td></tr></table><h1 class="c18 c34 c49" id="h.mdbwkfh3kn0g"><span class="c16 c12"></span></h1><h1 class="c18 c34 c50" id="h.hxse0py16gq4"><span class="c16 c12">3. How It Is Implemented: The Neo Solution</span></h1><ul class="c14 lst-kix_asgneavnvrb9-0 start"><li class="c5 c7 li-bullet-0"><span class="c12">POS &rarr; Shell Cloudflare</span><span class="c4">: POS calls https://prod.shell.integrations.capillarytech.com/pos/{market}/auth to obtain a token. Shell&rsquo;s Cloudflare applies brand policies (IP logging, geofencing) and forwards to Neo.</span></li></ul><p class="c5 c11"><span class="c4"></span></p><ul class="c14 lst-kix_asgneavnvrb9-0"><li class="c5 c7 li-bullet-0"><span class="c12">Neo (Auth step):</span><span class="c4">&nbsp;Neo reads the POS payload (contains store/till/site hints), looks up a mapping in its DB, then calls Capillary Auth Engine v3 to mint a store-scoped access token. Neo stores the token + expiry and returns a POS-friendly response.</span></li></ul><p class="c5 c11"><span class="c4"></span></p><ul class="c14 lst-kix_asgneavnvrb9-0"><li class="c5 c7 li-bullet-0"><span class="c12">Business calls</span><span class="c4">: For getOffer / promo evaluation and addRetail / retail authorization (plus &ldquo;get customer,&rdquo; &ldquo;get customer promotion data,&rdquo; promotion metadata), POS sends the token. Neo validates that the token belongs to the same site and only then forwards to platform APIs.</span></li></ul><p class="c5 c11"><span class="c4"></span></p><ul class="c14 lst-kix_asgneavnvrb9-0"><li class="c5 c7 li-bullet-0"><span class="c12">if invalid/expired: </span><span class="c4">Neo re-mints or returns a clear 401 so the POS re-auths.</span></li></ul><p class="c5 c11"><span class="c4"></span></p><ul class="c14 lst-kix_asgneavnvrb9-0"><li class="c5 c7 li-bullet-0"><span class="c12">Monitoring:</span><span class="c4">&nbsp;Dev Console shows latency, success/failure, and store-wise breakdowns; logs are searchable by request/store/till IDs.</span></li></ul><p class="c5 c13"><span class="c4"></span></p><p class="c5"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 273.33px;"><img alt="" src="images/image1.png" style="width: 624.00px; height: 273.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c5 c13"><span class="c3"></span></p><h3 class="c47 c34 c58" id="h.cg0xuputf2iv"><span class="c25 c35">How Traffic Flows (High-Level Architecture)</span></h3><p class="c5 c58 c13"><span class="c16 c12"></span></p><p class="c5 c58"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 408.00px; height: 727.00px;"><img alt="" src="images/image2.png" style="width: 408.00px; height: 727.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c22 c13"><span class="c0"></span></p><h1 class="c8 c34" id="h.5gxaycy7dpm1"><span class="c16 c12">4. Data model and credential strategy</span></h1><p class="c22 c13"><span class="c0"></span></p><h2 class="c8 c34" id="h.mitcshroz2ek"><span class="c23 c12">4.1 Mapping (Neo DB):</span></h2><ul class="c14 lst-kix_1x1rudjigwgu-0 start"><li class="c8 c41"><span class="c0">store_id &mdash; the retail location identifier coming from the POS payload</span></li></ul><p class="c8 c13"><span class="c0"></span></p><ul class="c14 lst-kix_1x1rudjigwgu-0"><li class="c8 c41"><span class="c0">till_id &mdash; the checkout terminal inside the store</span></li></ul><p class="c8 c13"><span class="c0"></span></p><ul class="c14 lst-kix_1x1rudjigwgu-0"><li class="c8 c41"><span class="c0">site/entity_id &mdash; Capillary&rsquo;s site scope used for authorization</span></li></ul><p class="c8 c13"><span class="c0"></span></p><h2 class="c8 c34" id="h.rngdr1qf67vu"><span class="c23 c12">4.2 Credential mapping:</span></h2><p class="c8 c13"><span class="c0"></span></p><p class="c8"><span class="c0">old_cognito_client_id (what the POS still uses) &rarr; capillary_key and capillary_secret (what Auth Engine v3 needs)</span></p><p class="c8 c13"><span class="c0"></span></p><h2 class="c8 c34" id="h.gzaj26bols3u"><span class="c23 c12">4.3 Token cache (Neo DB):</span></h2><p class="c8 c13"><span class="c0"></span></p><p class="c8"><span class="c0">site/entity_id, store_id, till_id</span></p><p class="c8 c13"><span class="c0"></span></p><p class="c8"><span class="c0">access_token (or hashed reference)</span></p><p class="c8 c13"><span class="c0"></span></p><p class="c8"><span class="c0">expires_at (exact expiry for reuse and checks)</span></p><p class="c8 c13"><span class="c0"></span></p><p class="c8"><span class="c12 c37">Why: This lets Neo bridge old &rarr; new without changing POS, and enforce store binding on every call.</span></p><p class="c8 c13"><span class="c37 c12"></span></p><h2 class="c8 c34" id="h.11rlmmhgllsb"><span class="c23 c12">4.4 Real life scenarios: </span></h2><p class="c8 c13"><span class="c16 c12"></span></p><p class="c8"><span class="c16 c12">4.4.1 &nbsp;Generation of token (what actually happens)</span></p><p class="c8 c13"><span class="c0"></span></p><ol class="c14 lst-kix_rtcqmwnujh78-0 start" start="1"><li class="c22 c27 li-bullet-0"><span class="c0">The cashier logs in; the POS calls the familiar /auth URL.</span></li><li class="c22 c27 li-bullet-0"><span class="c0">Neo reads the POS payload (which includes identifiers like store and till).</span></li><li class="c22 c27 li-bullet-0"><span class="c0">Neo looks up a record in its own database to find out which site/entity this store/till belongs to and which credentials Auth v3 needs.</span></li><li class="c22 c27 li-bullet-0"><span class="c0">Neo calls Auth Engine v3, receives a token that lasts about an hour, stores it with its expiry, and returns a POS&#8209;friendly response.</span></li><li class="c22 c27 li-bullet-0"><span class="c0">The cashier sees nothing new. The POS keeps working.</span></li></ol><p class="c8 c13"><span class="c0"></span></p><p class="c8"><span class="c16 c12">Mini&#8209;diagram</span></p><p class="c8 c13"><span class="c0"></span></p><p class="c8"><span class="c37 c43">POS &rarr; Cloudflare &rarr; Neo &rarr; Auth v3 &rarr; Neo &rarr; POS</span></p><p class="c8 c13"><span class="c37 c43"></span></p><p class="c8"><span class="c16 c12">4.4.2 Evaluating promotions (getOffer)</span></p><p class="c8 c13"><span class="c0"></span></p><ol class="c14 lst-kix_9pgs6vgq5fvx-0 start" start="1"><li class="c22 c7 li-bullet-0"><span class="c0">A customer presents a membership card and the basket is scanned.</span></li><li class="c22 c7 li-bullet-0"><span class="c0">POS calls getOffer with the current token.</span></li><li class="c22 c7 li-bullet-0"><span class="c0">Neo first checks: &ldquo;Is this token from the same site?&rdquo; If yes, Neo forwards the request to the promotions engine; if not, Neo blocks or asks for a fresh token.</span></li><li class="c22 c7 li-bullet-0"><span class="c0">POS shows the eligible offers to the cashier and customer.</span></li></ol><p class="c8 c13"><span class="c0"></span></p><p class="c8"><span class="c16 c12">Mini&#8209;diagram</span></p><p class="c8 c13"><span class="c0"></span></p><p class="c8"><span class="c37 c43">POS (basket + token)</span></p><p class="c8"><span class="c37 c43">&nbsp; &nbsp;&rarr; Cloudflare &rarr; Neo (validate token&harr;site)</span></p><p class="c8"><span class="c37 c43">&nbsp; &nbsp;&rarr; Promotions Engine &rarr; Neo &rarr; POS (eligible offers)</span></p><p class="c8 c13"><span class="c0"></span></p><p class="c8"><span class="c16 c12">4.4.3 Committing the sale (addRetail)</span></p><p class="c8 c13"><span class="c0"></span></p><ol class="c14 lst-kix_uztcojq4jjfk-0 start" start="1"><li class="c7 c22 li-bullet-0"><span class="c0">The customer chooses which benefits to apply; payment is taken.</span></li><li class="c22 c7 li-bullet-0"><span class="c48 c60">POS calls </span><span class="c12 c48">addRetail </span><span class="c0">with the final bill and the token.</span></li><li class="c22 c7 li-bullet-0"><span class="c0">Neo again checks token&harr;site binding before forwarding to retail/loyalty APIs.</span></li><li class="c22 c7 li-bullet-0"><span class="c0">The system redeems and awards points appropriately and returns a transaction ID for the receipt.</span></li></ol><p class="c8 c13"><span class="c0"></span></p><p class="c8"><span class="c16 c12">Mini&#8209;diagram</span></p><p class="c8 c13"><span class="c16 c12"></span></p><p class="c8"><span class="c37 c43">POS (final bill + token)</span></p><p class="c8"><span class="c37 c43">&rarr; Cloudflare &rarr; Neo (validate token&harr;site)</span></p><p class="c8"><span class="c48 c56">&rarr; Retail/Loyalty APIs &rarr; Neo &rarr; POS (transaction id, balances)</span></p><p class="c8 c13"><span class="c0"></span></p><p class="c8"><span class="c0">blocks used </span></p><p class="c13 c50 c52"><span class="c0"></span></p><p class="c52 c50"><span class="c0">connection between blocks</span></p><p class="c5 c13"><span class="c4"></span></p><p class="c5 c13"><span class="c4"></span></p><h1 class="c18 c34 c50" id="h.k5ryrmr26oru"><span class="c16 c12">4. how the Neo flow is being monitored</span></h1><p class="c5 c13"><span class="c4"></span></p><p class="c5"><span class="c4">All operational visibility lives in Dev Console:</span></p><p class="c5 c13"><span class="c4"></span></p><ul class="c14 lst-kix_j8sg3c2vefq6-0 start"><li class="c5 c7 li-bullet-0"><span class="c4">Metrics show latency, success vs failure, token issuance rate, and store&#8209;wise breakdowns. If Malaysia stores suddenly fail token requests, the spike is obvious.</span></li></ul><p class="c5 c13"><span class="c4"></span></p><p class="c5 c33"><span class="c4">- - - </span></p><p class="c5 c13"><span class="c4"></span></p><ol class="c14 lst-kix_uztcojq4jjfk-0" start="5"><li class="c18 c7 c34 li-bullet-0"><h1 id="h.crszvs7yf8kv" style="display:inline"><span class="c16 c12">Implementation challenges:</span></h1></li></ol><p class="c5 c13"><span class="c4"></span></p><h2 class="c5" id="h.osa8xo1umvky"><span class="c23 c12">1) Store-level identity and tokens (Shell)</span></h2><p class="c9"><span class="c4">Shell runs ~100 stores across markets. Each store has a single till, and each till needs its own short-lived token. Under AWS Cognito this was a strict till&harr;token mapping: one call to get the token, a separate call for each transaction. Moving to Capillary&rsquo;s Auth Engine changed parameter names, URLs, and response fields, so we had to preserve the store-specific model while translating everything behind the scenes. Neo&rsquo;s database now holds the store&rarr;credential mapping and the last issued token with its expiry, so the POS can keep behaving the same way.</span></p><h2 class="c5 c34" id="h.pc8xtxohaxj"><span class="c12 c23">2) Retry and resilience gaps in Neo</span></h2><p class="c5 c13"><span class="c4"></span></p><p class="c5"><span class="c4">Out of the box, Neo didn&rsquo;t give a full retry strategy for upstream outages. We added a pragmatic pattern:</span></p><p class="c5 c13"><span class="c4"></span></p><p class="c5"><span class="c4">For promo evaluation (POS &rarr; Neo &rarr; Platform), if Neo or downstream services time out, the POS retries with backoff to meet the 99.99% uptime target, and Neo marks the attempt with a correlation ID.</span></p><p class="c5 c13"><span class="c4"></span></p><p class="c5"><span class="c4">Failed transactions are flagged in Neo&rsquo;s DB. A small pull API lets Connect+ (or a scheduled job) read these flags and replay by calling a Capillary DB&ndash;backed endpoint as the source of truth. This gives operations a deterministic &ldquo;catch-up&rdquo; path after transient failures.</span></p><p class="c5 c13"><span class="c4"></span></p><p class="c5 c13"><span class="c4"></span></p><p class="c5 c13"><span class="c4"></span></p><p class="c5 c13"><span class="c4"></span></p><p class="c5 c13"><span class="c23 c55"></span></p></body></html>